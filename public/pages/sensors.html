<!DOCTYPE html>
<html lang="en" class="h-full">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="theme-color" content="#2563EB">
    <link rel="apple-touch-icon" sizes="57x57" href="images/favicons/apple-touch-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="images/favicons/apple-touch-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="images/favicons/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="images/favicons/apple-touch-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="images/favicons/apple-touch-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="images/favicons/apple-touch-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="images/favicons/apple-touch-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="images/favicons/apple-touch-icon-152x152.png">
    <link rel="icon" type="image/png" sizes="16x16" href="images/favicons/favicon-16x16.png">
    <link rel="icon" type="image/png" sizes="32x32" href="images/favicons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="images/favicons/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="128x128" href="images/favicons/favicon-128x128.png">
    <link rel="icon" type="image/png" sizes="196x196" href="images/favicons/favicon-196x196.png">
    <link rel="manifest" href="manifest.json" />
    <title>Project Web Apps</title>
    <script src="/scripts/libs/jquery.min.js"></script>
    <script src="/scripts/app.js"></script>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="/styles/libs/tailwind.css" rel="stylesheet">
    <link href="/styles/style.css">
</head>

<body class="flex flex-col h-full justify-between dark:bg-gray-600 bg-gray-100 p-0">
    <nav class="dark:bg-gray-800 bg-indigo-600">
        <div class="max-w-7xl mx-auto px-2 sm:px-6 lg:px-8">
            <div class="relative flex items-center justify-between h-16">
                <div class="absolute inset-y-0 left-0 flex items-center sm:hidden">
                    <!-- Mobile menu button-->
                    <button type="button" id="btn-toggle-menu"
                        class="inline-flex items-center justify-center p-2 rounded-md dark:text-gray-400 dark:hover:text-white dark:hover:bg-gray-700"
                        aria-controls="mobile-menu" aria-expanded="false">
                        <span class="sr-only">Open main menu</span>
                        <!--
                  Icon when menu is closed.
                  Heroicon name: outline/menu
                  Menu open: "hidden", Menu closed: "block"
                    -->
                        <svg id="svg-menu-closed" class="block h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none"
                            viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M4 6h16M4 12h16M4 18h16" />
                        </svg>
                        <!--
                  Icon when menu is open.
                  Heroicon name: outline/x
                  Menu open: "block", Menu closed: "hidden"
                    -->
                        <svg id="svg-menu-open" class="hidden h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none"
                            viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M6 18L18 6M6 6l12 12" />
                        </svg>
                    </button>
                </div>
                <div class="flex-1 flex items-center justify-center sm:items-stretch sm:justify-start">
                    <div class="flex-shrink-0 flex items-center">
                        <!-- <img class="block lg:hidden h-8 w-auto"
                            src="https://tailwindui.com/img/logos/workflow-mark-indigo-700.svg" alt="Workflow">
                        <img class="hidden lg:block h-8 w-auto"
                            src="https://tailwindui.com/img/logos/workflow-logo-indigo-700-mark-white-text.svg"
                            alt="Workflow"> -->
                        <a href="/">
                            <span
                                class="align-middle material-icons text-white text-lg dark:text-indigo-600">ac_unit</span>
                            <span
                                class="align-middle text-white font-semibold text-lg dark:text-indigo-600 mx-1">Project
                                Web Apps</span>
                        </a>
                    </div>
                    <div class="hidden sm:block sm:ml-6">
                        <div class="flex space-x-4">
                            <!-- Current: "bg-gray-900 text-white", Default: "text-gray-300 hover:bg-gray-700 hover:text-white" -->
                            <a href="/graphs"
                                class="hover:bg-indigo-800 text-white dark:text-gray-300 dark:hover:bg-gray-700 dark:hover:text-white px-3 py-2 rounded-md text-sm font-medium"
                                aria-current="page">Graphs</a>

                            <a href="/sensors"
                                class="bg-indigo-800 text-white dark:bg-gray-900 dark:text-white px-3 py-2 rounded-md text-sm font-medium">Sensors</a>

                            <a href="/settings"
                                class="hover:bg-indigo-800 text-white dark:text-gray-300 dark:hover:bg-gray-700 dark:hover:text-white px-3 py-2 rounded-md text-sm font-medium">Settings</a>
                        </div>
                    </div>
                </div>
                <div class="absolute inset-y-0 right-0 flex items-center pr-2 sm:static sm:inset-auto sm:ml-6 sm:pr-0">
                    <button
                        class="align-middle dark:bg-gray-800 p-1 text-white dark:text-gray-400 dark:hover:text-white focus:border-0 focus:outline-none"
                        id="btn-toggle-dark-mode">
                        <span class="material-icons align-middle" id="icon-toggle-dark-mode">
                            light_mode
                        </span>
                    </button>
                </div>
            </div>
        </div>

        <!-- Mobile menu, show/hide based on menu state. -->
        <div class="hidden sm:hidden" id="mobile-menu">
            <div class="px-2 pt-2 pb-3 space-y-1">
                <!-- Current: "bg-gray-900 text-white", Default: "text-gray-300 hover:bg-gray-700 hover:text-white" -->
                <a href="/graphs"
                    class="hover:bg-indigo-800 text-white dark:text-gray-300 dark:hover:bg-gray-700 dark:hover:text-white block px-3 py-2 rounded-md text-base font-medium"
                    aria-current="page">Graphs</a>
                <a href="/sensors"
                    class="bg-indigo-800 text-white dark:bg-gray-900 dark:text-white block px-3 py-2 rounded-md text-base font-medium">Sensors</a>
                <a href="/settings"
                    class="hover:bg-indigo-800 text-white dark:text-gray-300 dark:hover:bg-gray-700 dark:hover:text-white block px-3 py-2 rounded-md text-base font-medium">Settings</a>
            </div>
        </div>
    </nav>
    <div class="relative" id="sensor-window">
        <div class="flex-grow max-w-sm md:max-w-none container mx-auto">
            <!--- Search for sensor --->
            <div class="relative text-lg my-3 mx-auto px-3">
                <input
                    class="py-2 px-4 rounded-3xl bg-white dark:bg-gray-800 text-black dark:text-white mx-auto focus:outline-none"
                    type="text" name="input-search-sensor" placeholder="Search for sensor" id="input-search-sensor"
                    oninput="searchSensors()">
                <button onclick="openCamera()"
                    class="h-full absolute inline-block bg-white dark:bg-gray-800 text-black dark:text-white hover:bg-indigo-600 dark:hover:bg-gray-700 rounded-full justify-center items-center align-middle focus:outline-none w-10 h-10 shadow-xl mx-1">
                    <span class="material-icons align-middle">qr_code_scanner</span>
                </button>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 justify-items-stretch mx-2 md:mx-5 py-4 text-purple dark:text-white"
                id="card-grid">
                <!--- Template --->
                <!---   Card   --->
                <div class="hidden relative bg-white dark:bg-gray-800 py-6 px-6 rounded-3xl w-auto shadow-xl"
                    data-card="template">
                    <!--- Title --->
                    <span class="text-black dark:text-white text-xl font-semibold" data-room="template">Lokaal
                        template</span>
                    <span data-error="template" class="hidden text-red-500 mx-5">Offline</span>
                    <!--- Graph button --->
                    <span class="absolute right-4 top-4">
                        <button onclick="" data-button-notification="template"
                            class="text-indigo-600 border-2 border-indigo-600 dark:bg-indigo-600 dark:text-black dark:border-none rounded-full justify-center items-center align-middle focus:outline-none w-10 h-10 shadow-xl mx-1">
                            <span class="material-icons text-center align-middle"
                                data-span-notification-room="template">notifications_off</span>
                        </button>
                        <form class="inline-block" data-form="template" action="/graphs" method="GET">
                            <input type="hidden" name="room" data-form-room="template" value="template">
                            <button
                                class="text-indigo-600 border-2 border-indigo-600 dark:bg-indigo-600 dark:text-black dark:border-none rounded-full justify-center items-center align-middle focus:outline-none w-10 h-10 shadow-xl mx-1">
                                <span class="material-icons text-center align-middle">bar_chart</span>
                            </button>
                        </form>
                    </span>
                    <!--- values --->
                    <div class="mt-4 grid grid-cols-3 gap-2 justify-items-stretch mx-1 text-base">
                        <span class="border-b-2 border-l-2 border-green-600 rounded-2 text-green-600 p-2">
                            <span class="block">CO2</span>
                            <span class="block" data-co2-val-id="template">1200ppm</span>
                        </span>
                        <span class="border-b-2 border-l-2 border-blue-600 rounded-2 text-blue-600 p-2">
                            <span class="block">Hum</span>
                            <span class="block" data-hum-val-id="template">55%</span>
                        </span>
                        <span class="border-b-2 border-l-2 border-red-600 rounded-2 text-red-600 p-2">
                            <span class="block">Temp</span>
                            <span class="block" data-temp-val-id="template">22°C</span>
                        </span>
                    </div>
                </div>
            </div>
        </div>
        <div class="hidden absolute top-0 bottom-0 w-full mx-auto backdrop-filter backdrop-blur-md" id="camera-window">
            <div class="mx-auto my-5 w-11/12 md:w-1/2">
                <div class="relative w-full my-5">
                    <button id="btn-goToURL"
                        class="text-indigo-600 border-2 border-indigo-600 dark:bg-indigo-600 dark:text-black dark:border-none focus:outline-none rounded-3xl h-10 shadow-xl mx-1 px-4">
                        no QR-code 
                    </button>
                    <span class="absolute right-0 top-0">
                        <button onclick="closeCamera()"
                            class="text-indigo-600 border-2 border-indigo-600 dark:bg-indigo-600 dark:text-black dark:border-none rounded-full justify-center items-center align-middle focus:outline-none w-10 h-10 shadow-xl mx-1">
                            <span class="material-icons text-center align-middle"
                                data-span-notification-room="template">close</span>
                        </button>
                    </span>
                </div>
                <canvas id="qr-canvas" class="w-full" class="my-5">
                </canvas>
            </div>
        </div>
    </div>
    <br>
    <footer
        class="w-full h-8 content-center bg-indigo-600 text-white dark:bg-gray-800 fixed bottom-0 dark:text-gray-300">
        <span class="absolute left-4 hidden md:inline align-middle">Project Web Apps</span>
        <span class="absolute left-2 md:inset-x-0 md:text-center align-middle">
            <span class="hidden md:inline align-middle">last update</span>
            <span class="align-middle" id="footer-update-date">26/04/2021</span>
            <span class="align-middle" id="footer-update-time">15:24</span>
        </span>
        <span class="absolute right-2 md:right-4 align-middle">&copy; Samyn R. 2021</span>
    </footer>
</body>
<script src='/scripts/libs/axios.js'></script>
<script src='/scripts/libs/socket.io.js'></script>
<script src='/scripts/libs/jsQR.js'></script>
<script src="/scripts/script.js"></script>
<script src="/scripts/sensors.js"></script>

</html>